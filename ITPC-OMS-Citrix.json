{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "location": {
      "type": "string",
      "allowedValues": [
        "eastus",
        "westeurope",
        "southeastasia",
        "australiasoutheast",
        "westcentralus",
        "japaneast"
      ],
      "defaultValue": "westeurope"
    },
    "workspace": {
      "type": "string",
      "defaultValue": "enterAuniqueDnsHostName9m"
    }
  },
  "variables": {
    "workspaceapiversion": "2017-04-26-preview",
    "omsSolutions": {
      "customSolution": {
        "name": "Citrix Super Monitoring",
        "solutionName": "[concat('Citrix Super Monitoring', '[', parameters('workspace'), ']')]",
        "publisher": "marcel.meurer@sepago.de",
        "displayName": "Citrix Super Monitoring",
        "description": "Citrix Super Monitoring Description",
        "author": "marcel.meurer@sepago.de"
      }
    }
  },
  "resources": [


  

    {
      "apiVersion": "2017-05-10",
      "name": "linkedTemplate",
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/MarcelMeurer/LogAnalytics-for-Citrix-and-RDS/master/Views/Citrix%20Processes.omsview",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "workspace": { "value": "[parameters('workspace')]" },
          "location": { "value": "[parameters('location')]" },
          "resourcegroup": { "value": "[resourceGroup().name]" },
          "subscriptionId": { "value": "[subscription().subscriptionId]" },
          "workspaceapiversion": { "value": "[variables('workspaceapiversion')]" }

        }
      }
    },
	    {
      "apiVersion": "2017-05-10",
      "name": "linkedTemplate",
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/MarcelMeurer/LogAnalytics-for-Citrix-and-RDS/master/Views/Citrix%20Sessions.omsview",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "workspace": { "value": "[parameters('workspace')]" },
          "location": { "value": "[parameters('location')]" },
          "resourcegroup": { "value": "[resourceGroup().name]" },
          "subscriptionId": { "value": "[subscription().subscriptionId]" },
          "workspaceapiversion": { "value": "[variables('workspaceapiversion')]" }

        }
      }
    },
	    {
      "apiVersion": "2017-05-10",
      "name": "linkedTemplate",
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/MarcelMeurer/LogAnalytics-for-Citrix-and-RDS/master/Views/Citrix%20Site%20and%20Applications.omsview",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "workspace": { "value": "[parameters('workspace')]" },
          "location": { "value": "[parameters('location')]" },
          "resourcegroup": { "value": "[resourceGroup().name]" },
          "subscriptionId": { "value": "[subscription().subscriptionId]" },
          "workspaceapiversion": { "value": "[variables('workspaceapiversion')]" }

        }
      }
    },
	    {
      "apiVersion": "2017-05-10",
      "name": "linkedTemplate",
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "incremental",
        "templateLink": {
          "uri": "https://raw.githubusercontent.com/MarcelMeurer/LogAnalytics-for-Citrix-and-RDS/master/Views/Citrix%20Workers.omsview",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "workspace": { "value": "[parameters('workspace')]" },
          "location": { "value": "[parameters('location')]" },
          "resourcegroup": { "value": "[resourceGroup().name]" },
          "subscriptionId": { "value": "[subscription().subscriptionId]" },
          "workspaceapiversion": { "value": "[variables('workspaceapiversion')]" }

        }
      }
    }

  ]
}
