{
    "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "location": {
            "type": "string",
            "allowedValues": [
				"eastus",
				"westeurope",
				"southeastasia",
				"australiasoutheast",
				"westcentralus",
				"japaneast"
			],
		"defaultValue": "westeurope",
        },
        "workspace": {
            "type": "string",
            "defaultValue": "enterAuniqueDnsHostName"
        }
    },
	"variables": {
        "workspaceapiversion": "2017-03-15-preview"
    },
    "resources": [
        {
            "apiVersion": "[variables('workspaceapiversion')]",
            "name": "[parameters('workspace')]",
            "type": "Microsoft.OperationalInsights/workspaces",
            "location": "[parameters('location')]",
            "properties": {"sku": {"Name": "Standalone"},"retentionInDays": 360},
            
            "id": "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]",
            
          "resources": [
{
    "apiVersion":  "2015-11-01-preview",
    "name":  "RDS Processes",
    "type":  "views",
    "location":  "[parameters('location')]",
    "id":  "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/RDS Processes')]",
    "dependson":  [
                      "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                  ],
    "properties":  {
                       "Id":  "RDS Processes",
                       "Name":  "RDS Processes",
                       "Author":  "marcel.meurer@sepago.de",
                       "Source":  "Local",
                       "Dashboard":  [
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Reported Processes",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Processes by Worker",
                                                                                  "Subtitle":  "count"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL | measure countdistinct(NameInSession_s) by Worker_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL | measure countdistinct(NameInSession_s) by Worker_s | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "Count"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process CPU Consumption (Avg)",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall by Process Name",
                                                                                  "Subtitle":  "% CPU"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(PercentProcessorTime_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Last Sample"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(PercentProcessorTime_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "Count"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure avg(PercentProcessorTime_d) as CPU_Perc by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process CPU Consumption (Max)",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall by Process Name",
                                                                                  "Subtitle":  "% CPU"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(PercentProcessorTime_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Max",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(PercentProcessorTime_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "%"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure max(PercentProcessorTime_d) as CPU_Perc by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process Memory Consumption Phy (Avg)",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall by Process Name",
                                                                                  "Subtitle":  "Byte"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(WorkingSet_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(WorkingSet_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "Byte"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure avg(WorkingSet_d) as Memory_Byte by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process Memory Consumption Phy (Max)",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Data types over time",
                                                                                  "Subtitle":  ""
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure max(WorkingSet_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure max(WorkingSet_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "Byte"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure max(WorkingSet_d) as Memory_Byte by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process IO Activity (Avg)",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall by Process name",
                                                                                  "Subtitle":  "Byte/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(IODataBytesPersec_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Last Sample"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure avg(IODataBytesPersec_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "Byte/s"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure avg(IODataBytesPersec_d) as IO_BpS by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Process IO Activity (Max)",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall by Process name",
                                                                                  "Subtitle":  "Byte/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure max(IODataBytesPersec_d) by Name_s",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"  |measure max(IODataBytesPersec_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Name",
                                                                                                     "Value":  "byte/s"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL | measure max(IODataBytesPersec_d) as IO_BpS by UserName_s,Worker_s | display LineChart"
                                                                            }
                                                               }
                                         }
                                     ],
                       "OverviewTile":  {
                                            "Id":  "SingleQueryDonutBuilderTileV1",
                                            "Type":  "OverviewTile",
                                            "Version":  0,
                                            "Configuration":  {
                                                                  "Donut":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL TimeGenerated\u003eNOW-60MINUTES| measure countdistinct(NameInSession_s) by Worker_s",
                                                                                "CenterLegend":  {
                                                                                                     "Text":  "Total",
                                                                                                     "Operation":  "Sum",
                                                                                                     "ArcsToSelect":  [

                                                                                                                      ]
                                                                                                 },
                                                                                "Options":  {
                                                                                                "colors":  [
                                                                                                               "#00188f",
                                                                                                               "#0072c6",
                                                                                                               "#00bcf2"
                                                                                                           ],
                                                                                                "valueColorMapping":  [

                                                                                                                      ]
                                                                                            }
                                                                            },
                                                                  "Advanced":  {
                                                                                   "DataFlowVerification":  {
                                                                                                                "Enabled":  false,
                                                                                                                "Query":  "*",
                                                                                                                "Message":  ""
                                                                                                            }
                                                                               }
                                                              }
                                        }
                   }
}
,
{
    "apiVersion":  "2015-11-01-preview",
    "name":  "RDS Sessions",
    "type":  "views",
    "location":  "[parameters('location')]",
    "id":  "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/RDS Sessions')]",
    "dependson":  [
                      "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                  ],
    "properties":  {
                       "Id":  "RDS Sessions",
                       "Name":  "RDS Sessions",
                       "Author":  "marcel.meurer@sepago.de",
                       "Source":  "Local",
                       "Dashboard":  [
                                         {
                                             "Id":  "SingleQueryDonutBuilderBladeV1",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "RDS Sessions",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "RDS Sessions",
                                                                                  "Subtitle":  "Unique Sessions State"
                                                                              },
                                                                   "Donut":  {
                                                                                 "Query":  "Type=ITPC_CTX_Session_CL  | measure countdistinct(SessionHash_s) by ConnectionState_s",
                                                                                 "CenterLegend":  {
                                                                                                      "Text":  "Total",
                                                                                                      "Operation":  "Sum",
                                                                                                      "ArcsToSelect":  [

                                                                                                                       ]
                                                                                                  },
                                                                                 "Options":  {
                                                                                                 "colors":  [
                                                                                                                "#00188f",
                                                                                                                "#0072c6",
                                                                                                                "#00bcf2"
                                                                                                            ],
                                                                                                 "valueColorMapping":  [

                                                                                                                       ]
                                                                                             }
                                                                             },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Terminal Services\" Counter_s:\"Active Sessions\" | measure avg(value_d) by Worker_s ",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "Active Sessions"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "20",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "40",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Session_CL  | measure countdistinct(SessionHash_s) by ConnectionState_s"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session Output Bandwidth",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Average Bandwidth per Worker",
                                                                                  "Subtitle":  "bit/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Sent Rate\" not Instance_s:\"_Server Total\" | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg ",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Sent Rate\" | measure avg(value_d) by UserName_s, Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "User",
                                                                                                     "Value":  "bit/s"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "200000",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "1000000",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}  Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Sent Rate\" | measure avg(value_d) INTERVAl 5MINUTES"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session Input Bandwidth",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Average Bandwidth per Worker",
                                                                                  "Subtitle":  "bit/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Received Rate\" not Instance_s:\"_Server Total\" | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Received Rate\" | measure avg(value_d) by UserName_s, Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "User",
                                                                                                     "Value":  "bit/s"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Received Rate\" | measure avg(value_d) interval 5MINUTES"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session TCP RTT",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Average RTT per Worker",
                                                                                  "Subtitle":  "ms"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP RTT\"  not Instance_s:\"_Server Total\" | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP RTT\" | measure avg(value_d) by UserName_s, Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "User",
                                                                                                     "Value":  "ms"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "350",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "600",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP RTT\" | measure avg(value_d) interval 5MINUTES"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session Output TCP Line Speed",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Average Output Line Speed per Worker",
                                                                                  "Subtitle":  "bit/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP Bandwidth\" not Instance_s:\"_Server Total\" | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP Bandwidth\" | measure avg(value_d) by UserName_s, Worker_s | sort AggregatedValue desc",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "User",
                                                                                                     "Value":  "Count"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "1000000",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "2000000",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP Bandwidth\" | measure avg(value_d) interval 5MINUTES"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutStackedBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session Maximum Values",
                                                                                   "newGroup":  true
                                                                               },
                                                                   "charts":  [
                                                                                  {
                                                                                      "Header":  {
                                                                                                     "Title":  "Maximum Output Bandwidth",
                                                                                                     "Subtitle":  "bit/s"
                                                                                                 },
                                                                                      "LineChart":  {
                                                                                                        "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Sent Rate\" | measure max(value_d) by Worker_s  |display LineChart",
                                                                                                        "yAxis":  {
                                                                                                                      "isLogarithmic":  false,
                                                                                                                      "units":  {
                                                                                                                                    "baseUnitType":  "",
                                                                                                                                    "baseUnit":  "",
                                                                                                                                    "displayUnit":  ""
                                                                                                                                },
                                                                                                                      "customLabel":  ""
                                                                                                                  }
                                                                                                    }
                                                                                  },
                                                                                  {
                                                                                      "Header":  {
                                                                                                     "Title":  "Maximum Input Bandwidth",
                                                                                                     "Subtitle":  "bit/s"
                                                                                                 },
                                                                                      "LineChart":  {
                                                                                                        "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Received Rate\" | measure max(value_d) by Worker_s |display LineChart",
                                                                                                        "yAxis":  {
                                                                                                                      "isLogarithmic":  false,
                                                                                                                      "units":  {
                                                                                                                                    "baseUnitType":  "",
                                                                                                                                    "baseUnit":  "",
                                                                                                                                    "displayUnit":  ""
                                                                                                                                },
                                                                                                                      "customLabel":  ""
                                                                                                                  }
                                                                                                    }
                                                                                  },
                                                                                  {
                                                                                      "Header":  {
                                                                                                     "Title":  "Maximum RTT",
                                                                                                     "Subtitle":  "ms"
                                                                                                 },
                                                                                      "LineChart":  {
                                                                                                        "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP RTT\" | measure max(value_d) by Worker_s |display LineChart",
                                                                                                        "yAxis":  {
                                                                                                                      "isLogarithmic":  false,
                                                                                                                      "units":  {
                                                                                                                                    "baseUnitType":  "",
                                                                                                                                    "baseUnit":  "",
                                                                                                                                    "displayUnit":  ""
                                                                                                                                },
                                                                                                                      "customLabel":  ""
                                                                                                                  }
                                                                                                    }
                                                                                  }
                                                                              ]
                                                               }
                                         },
                                         {
                                             "Id":  "NotableQueriesBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Session Query List",
                                                                                   "newGroup":  false,
                                                                                   "preselectedFilters":  "Type, Computer",
                                                                                   "renderMode":  "grid"
                                                                               },
                                                                   "queries":  [
                                                                                   {
                                                                                       "query":  "Type=ITPC_CTX_Session_CL TimeGenerated\u003eNOW-60MINUTES | sort TimeGenerated desc, UserName_s",
                                                                                       "displayName":  "Connection List (Last 60 Minutes)"
                                                                                   },
                                                                                   {
                                                                                       "query":  "Type=ITPC_CTX_Session_CL  | Distinct ClientName_s",
                                                                                       "displayName":  "Client Station Names"
                                                                                   },
                                                                                   {
                                                                                       "query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Total Sent Rate\" UserName_s:\"mmeurer\" | measure avg(value_d) by Worker_s  interval 30Minutes",
                                                                                       "displayName":  "Session Output Bandwidth for a specific User"
                                                                                   },
                                                                                   {
                                                                                       "query":  "Type=ITPC_CTX_PerfData_CL Category:\"RemoteFX Network\" Counter_s:\"Current TCP RTT\" UserName_s:\"mmeurer\" | measure avg(value_d) by Worker_s  interval 30Minutes",
                                                                                       "displayName":  "Session RTT for a specific User"
                                                                                   }
                                                                               ]
                                                               }
                                         }
                                     ],
                       "OverviewTile":  {
                                            "Id":  "SingleQueryDonutBuilderTileV1",
                                            "Type":  "OverviewTile",
                                            "Version":  0,
                                            "Configuration":  {
                                                                  "Donut":  {
                                                                                "Query":  "Type=ITPC_CTX_Session_CL  TimeGenerated\u003eNOW-60MINUTES | measure countdistinct(SessionHash_s) by ConnectionState_s",
                                                                                "CenterLegend":  {
                                                                                                     "Text":  "Active",
                                                                                                     "Operation":  "Sum",
                                                                                                     "ArcsToSelect":  [
                                                                                                                          "Active"
                                                                                                                      ]
                                                                                                 },
                                                                                "Options":  {
                                                                                                "colors":  [
                                                                                                               "#00188f",
                                                                                                               "#0072c6",
                                                                                                               "#00bcf2"
                                                                                                           ],
                                                                                                "valueColorMapping":  [

                                                                                                                      ]
                                                                                            }
                                                                            },
                                                                  "Advanced":  {
                                                                                   "DataFlowVerification":  {
                                                                                                                "Enabled":  false,
                                                                                                                "Query":  "*",
                                                                                                                "Message":  ""
                                                                                                            }
                                                                               }
                                                              }
                                        }
                   }
}
,
{
    "apiVersion":  "2015-11-01-preview",
    "name":  "RDS Site and Applications",
    "type":  "views",
    "location":  "[parameters('location')]",
    "id":  "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/RDS Site and Applications')]",
    "dependson":  [
                      "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                  ],
    "properties":  {
                       "Id":  "RDS Site and Applications",
                       "Name":  "RDS Site and Applications",
                       "Author":  "marcel.meurer@sepago.de",
                       "Source":  "Local",
                       "Dashboard":  [
                                         {
                                             "Id":  "NumberTileListBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "RDS Site",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Tile":  {
                                                                                "Query":  "Type=ITPC_CTX_Session_CL | distinct UserName_s",
                                                                                "Legend":  "Unique User"
                                                                            },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL  | measure countdistinct(UserName_s) as Count by DesktopGroup_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "DesktopGroup",
                                                                                                     "Value":  "Count"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "NumberTileListBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Applications",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Tile":  {
                                                                                "Query":  "Type=ITPC_CTX_Application_CL Event_s:\"crashed\"|measure count () by Name_s",
                                                                                "Legend":  "Application Crashed"
                                                                            },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Application_CL Event_s:\"crashed\"|measure count () by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Application",
                                                                                                     "Value":  "Count"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  ""
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Application by User",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Processor usage",
                                                                                  "Subtitle":  "%"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Processor Information\" Counter_s:\"% Processor Time\"|measure avg(value_d) by Worker_s",
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL  |measure avg(PercentProcessorTime_d) by UserName_s, Worker_s, Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Username",
                                                                                                     "Value":  "%"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL  |measure max(PercentProcessorTime_d) by UserName_s, Worker_s, Name_s | display linechart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Application by User",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Memory available",
                                                                                  "Subtitle":  "Byte"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Memory\" Counter_s:\"Available Bytes\"|measure avg(value_d) by Worker_s",
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL  |measure avg(WorkingSet_d) by UserName_s, Worker_s, Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Username",
                                                                                                     "Value":  "Byte"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL  |measure max(WorkingSet_d) by UserName_s, Worker_s, Name_s | display linechart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "SingleQueryDonutBuilderBladeV1",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Application Overall Consumption",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Processor Consumption",
                                                                                  "Subtitle":  "Shared Ticks"
                                                                              },
                                                                   "Donut":  {
                                                                                 "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by Name_s",
                                                                                 "CenterLegend":  {
                                                                                                      "Text":  "Total",
                                                                                                      "Operation":  "Sum",
                                                                                                      "ArcsToSelect":  [

                                                                                                                       ]
                                                                                                  },
                                                                                 "Options":  {
                                                                                                 "colors":  [
                                                                                                                "#00188f",
                                                                                                                "#0072c6",
                                                                                                                "#00bcf2"
                                                                                                            ],
                                                                                                 "valueColorMapping":  [

                                                                                                                       ]
                                                                                             }
                                                                             },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  false,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Process",
                                                                                                     "Value":  "S-Ticks"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by UserName_s"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "SingleQueryDonutBuilderBladeV1",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Application Overall Consumption",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Memory Consumption",
                                                                                  "Subtitle":  "Memory Ticks"
                                                                              },
                                                                   "Donut":  {
                                                                                 "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by Name_s",
                                                                                 "CenterLegend":  {
                                                                                                      "Text":  "Total",
                                                                                                      "Operation":  "Sum",
                                                                                                      "ArcsToSelect":  [

                                                                                                                       ]
                                                                                                  },
                                                                                 "Options":  {
                                                                                                 "colors":  [
                                                                                                                "#00188f",
                                                                                                                "#0072c6",
                                                                                                                "#00bcf2"
                                                                                                            ],
                                                                                                 "valueColorMapping":  [

                                                                                                                       ]
                                                                                             }
                                                                             },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by Name_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  false,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Process",
                                                                                                     "Value":  "M-nTicks"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by UserName_s"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "SingleQueryDonutBuilderBladeV1",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "User Overall Consumption",
                                                                                   "newGroup":  true,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Processor Consumption",
                                                                                  "Subtitle":  "Shared Ticks"
                                                                              },
                                                                   "Donut":  {
                                                                                 "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by UserName_s",
                                                                                 "CenterLegend":  {
                                                                                                      "Text":  "Total",
                                                                                                      "Operation":  "Sum",
                                                                                                      "ArcsToSelect":  [

                                                                                                                       ]
                                                                                                  },
                                                                                 "Options":  {
                                                                                                 "colors":  [
                                                                                                                "#00188f",
                                                                                                                "#0072c6",
                                                                                                                "#00bcf2"
                                                                                                            ],
                                                                                                 "valueColorMapping":  [

                                                                                                                       ]
                                                                                             }
                                                                             },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by UserName_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  false,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Process",
                                                                                                     "Value":  "S-Ticks"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | measure sum(PercentProcessorTime_d) by Name_s"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "SingleQueryDonutBuilderBladeV1",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "USER OVERALL CONSUMPTION",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "User Consumption",
                                                                                  "Subtitle":  "Memory Ticks"
                                                                              },
                                                                   "Donut":  {
                                                                                 "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by UserName_s",
                                                                                 "CenterLegend":  {
                                                                                                      "Text":  "Total",
                                                                                                      "Operation":  "Sum",
                                                                                                      "ArcsToSelect":  [

                                                                                                                       ]
                                                                                                  },
                                                                                 "Options":  {
                                                                                                 "colors":  [
                                                                                                                "#00188f",
                                                                                                                "#0072c6",
                                                                                                                "#00bcf2"
                                                                                                            ],
                                                                                                 "valueColorMapping":  [

                                                                                                                       ]
                                                                                             }
                                                                             },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by UserName_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  false,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Process",
                                                                                                     "Value":  "M-nTicks"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\" | Extend product(WorkingSet_d,0.0000000001) as WorkingSetN | measure sum(WorkingSetN) by Name_s"
                                                                            }
                                                               }
                                         }
                                     ],
                       "OverviewTile":  {
                                            "Id":  "SingleNumberBuilderTile",
                                            "Type":  "OverviewTile",
                                            "Version":  0,
                                            "Configuration":  {
                                                                  "Tile":  {
                                                                               "Legend":  "Unique Users",
                                                                               "Query":  "Type=ITPC_CTX_Process_CL | distinct UserName_s"
                                                                           },
                                                                  "Advanced":  {
                                                                                   "DataFlowVerification":  {
                                                                                                                "Enabled":  false,
                                                                                                                "Query":  "*",
                                                                                                                "Message":  ""
                                                                                                            }
                                                                               }
                                                              }
                                        }
                   }
}
,
{
    "apiVersion":  "2015-11-01-preview",
    "name":  "RDS Workers",
    "type":  "views",
    "location":  "[parameters('location')]",
    "id":  "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/RDS Workers')]",
    "dependson":  [
                      "[Concat('/subscriptions/', subscription().subscriptionId, '/resourceGroups/', resourceGroup().name, '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                  ],
    "properties":  {
                       "Id":  "RDS Workers",
                       "Name":  "RDS Workers",
                       "Author":  "marcel.meurer@sepago.de",
                       "Source":  "Local",
                       "Dashboard":  [
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "CPU Consumption",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Overall CPU Consumption",
                                                                                  "Subtitle":  "%"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Processor Information\" Counter_s:\"% Processor Time\"  | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Processor Information\" Counter_s:\"% Processor Time\"  | measure avg(value_d) by Worker_s  | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "%"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "85",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "92",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}  Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"| measure avg(PercentProcessorTime_d) by Name_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Memory Consumption",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Memory free",
                                                                                  "Subtitle":  "Availaible bytes"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Memory\" Counter_s:\"Available Bytes\"  | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Memory\" Counter_s:\"Available Bytes\"  | measure avg(value_d) by Worker_s  | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "Bytes free"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "100000000",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "1000000000",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"| measure avg(WorkingSet_d) as Memory_Byte by Name_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Network",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Network Throughput",
                                                                                  "Subtitle":  "byte/s"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Network Adapter\"  Counter_s:\"Bytes Total/sec\" | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Network Adapter\"  Counter_s:\"Bytes Total/sec\" | measure avg(value_d) by Worker_s ",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "byte/s"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "2000000",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "10000000",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"| measure avg(IODataBytesPersec_d) as IO_BpS  by Name_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Processor Queue",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Length",
                                                                                  "Subtitle":  "#"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"System\" Counter_s:\"Processor Queue Length\"   | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"System\" Counter_s:\"Processor Queue Length\"   | measure avg(value_d) by Worker_s  | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "#"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "6",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "12",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}   Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"| measure avg(PercentProcessorTime_d) as CPU_Perc,  avg(WorkingSet_d)  as Mem_Byte by Name_s"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Disk Queue",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Length",
                                                                                  "Subtitle":  "#"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"PhysicalDisk\" Counter_s:\"Avg. Disk Queue Length\" Instance_s:\"_Total\"  | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"PhysicalDisk\" Counter_s:\"Avg. Disk Queue Length\" Instance_s:\"_Total\"  | measure avg(value_d) by Worker_s  | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "#"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "0.8",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "1.8",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item} Type=ITPC_CTX_Process_CL not Name_s:\"System Idle Process\"| measure avg(IODataBytesPersec_d) as IO_BpS  by Name_s | display LineChart"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "LineChartCalloutBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Paging File",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Header":  {
                                                                                  "Title":  "Usage",
                                                                                  "Subtitle":  "%"
                                                                              },
                                                                   "LineChart":  {
                                                                                     "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Paging File\" Counter_s:\"% Usage\" Instance_s:\"_Total\"  | measure avg(value_d) by Worker_s | display LineChart",
                                                                                     "Callout":  {
                                                                                                     "Title":  "Avg",
                                                                                                     "Series":  "",
                                                                                                     "Operation":  "Average"
                                                                                                 },
                                                                                     "yAxis":  {
                                                                                                   "isLogarithmic":  false,
                                                                                                   "units":  {
                                                                                                                 "baseUnitType":  "",
                                                                                                                 "baseUnit":  "",
                                                                                                                 "displayUnit":  ""
                                                                                                             },
                                                                                                   "customLabel":  ""
                                                                                               }
                                                                                 },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL Category:\"Paging File\" Counter_s:\"% Usage\" Instance_s:\"_Total\"  | measure avg(value_d) by Worker_s  | sort Worker_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "Worker",
                                                                                                     "Value":  "%"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  true,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "70",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}"
                                                                            }
                                                               }
                                         },
                                         {
                                             "Id":  "NumberTileListBuilderBlade",
                                             "Type":  "Blade",
                                             "Version":  0,
                                             "Configuration":  {
                                                                   "General":  {
                                                                                   "title":  "Desktop Groups",
                                                                                   "newGroup":  false,
                                                                                   "icon":  "",
                                                                                   "useIcon":  false
                                                                               },
                                                                   "Tile":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL | distinct Worker_s ",
                                                                                "Legend":  "Worker Count"
                                                                            },
                                                                   "List":  {
                                                                                "Query":  "Type=ITPC_CTX_PerfData_CL|measure countdistinct(Worker_s) by DesktopGroup_s",
                                                                                "HideGraph":  false,
                                                                                "enableSparklines":  true,
                                                                                "operation":  "Summary",
                                                                                "ColumnsTitle":  {
                                                                                                     "Name":  "DesktopGroup",
                                                                                                     "Value":  "#"
                                                                                                 },
                                                                                "Color":  "#0072c6",
                                                                                "thresholds":  {
                                                                                                   "isEnabled":  false,
                                                                                                   "values":  [
                                                                                                                  {
                                                                                                                      "name":  "Normal",
                                                                                                                      "threshold":  "Default",
                                                                                                                      "color":  "#009e49",
                                                                                                                      "isDefault":  true
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Warning",
                                                                                                                      "threshold":  "60",
                                                                                                                      "color":  "#fcd116",
                                                                                                                      "isDefault":  false
                                                                                                                  },
                                                                                                                  {
                                                                                                                      "name":  "Error",
                                                                                                                      "threshold":  "90",
                                                                                                                      "color":  "#ba141a",
                                                                                                                      "isDefault":  false
                                                                                                                  }
                                                                                                              ]
                                                                                               },
                                                                                "NameDSVSeparator":  "",
                                                                                "NavigationQuery":  "{selected item}"
                                                                            }
                                                               }
                                         }
                                     ],
                       "OverviewTile":  {
                                            "Id":  "SingleNumberBuilderTile",
                                            "Type":  "OverviewTile",
                                            "Version":  0,
                                            "Configuration":  {
                                                                  "Tile":  {
                                                                               "Legend":  "Are reporting to Log Analytics",
                                                                               "Query":  "Type=ITPC_CTX_PerfData_CL TimeGenerated\u003eNOW-30MINUTES | distinct Worker_s "
                                                                           },
                                                                  "Advanced":  {
                                                                                   "DataFlowVerification":  {
                                                                                                                "Enabled":  false,
                                                                                                                "Query":  "*",
                                                                                                                "Message":  ""
                                                                                                            }
                                                                               }
                                                              }
                                        }
                   }
}
          ]
        }
    ]
}
